<ejs-kanban #kanban keyField='status'
            [dataSource]='tasks'
            [cardSettings]='cardSettings'
            [dialogSettings]='dialogSettings' (dialogOpen)='openModal(content, $event)'
            (dragStop)="drop($event)">
    <e-columns>
        <e-column headerText='To do' keyField='todo'></e-column>
        <e-column headerText='In Progress' keyField='in progress'></e-column>
        <e-column headerText='On Review' keyField='on review'></e-column>
        <e-column headerText='Done' keyField='done'></e-column>
    </e-columns>
</ejs-kanban>

<ng-template #content let-modal>
    <div class="container">
        <div class="row align-items-center">
            <div class="card-header px-lg-5">
                <div class="card-heading text-primary">Taskery Register</div>
            </div>
            <div class="card-body" style="padding: 2rem!important;">
                <h3 class="mb-4">Get started with Taskery</h3>
                <div style="display: flex;">
                    <div class="form-floating mb-3">
                        <input class="form-control" type="text" placeholder="ID" [(ngModel)]="currentTask.id"
                               disabled>
                        <label>ID</label>
                    </div>
                    <div class="form-floating right-field" style="width: 100%;">
                        <input class="form-control" type="text" placeholder="Title" [(ngModel)]="currentTask.title"
                               [ngClass]="{ 'is-invalid': invalidTitle }" required>
                        <label>Title</label>
                    </div>
                </div>
                <div class="form-floating mb-3">
                    <textarea class="form-control" style="padding-top: 0.5rem;" cols="2" rows="5"
                              placeholder="Description" [(ngModel)]="currentTask.description" required></textarea>
                </div>
                <div class="form-floating mb-3">
                    <ng-select2 [(ngModel)]="currentTask.employeeId" [width]="'100%'" [data]="employeeData">
                    </ng-select2>
                </div>
                <div style="display: flex; align-items: center;">
                    <div class="form-floating mb-3" style="width: 30%;">
                        <input class="form-control" type="number" placeholder="Duration"
                               [(ngModel)]="currentTask.duration"
                               [ngClass]="{ 'is-invalid': invalidDuration }" required>
                        <label>Duration</label>
                    </div>
                    <div class="form-floating right-field" style="width: 70%;">
                        <ng-select2 [(ngModel)]="currentTask.status" [width]="'100%'" [data]="statusData">
                        </ng-select2>
                    </div>
                </div>
                <button class="btn btn-primary" style="float: right;" type="button" (click)="closeModal(modal)">
                    Update
                </button>
            </div>
        </div>
    </div>
</ng-template>


